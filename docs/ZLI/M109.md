# Modul 109

## Installation Docker

### Dependencies
``` bash
sudo apt update
sudo apt install -y apt-transport-https ca-certificates curl gnupg-agent software-properties-common
```

### Repository
``` bash
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
```

### Docker Engine
``` bash
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io -y
```

### Anpassungen User (dieser Schritt ist wichtig, da sonst immer mit sudo gearbeitet werden muss)
``` bash
sudo usermod -aG docker $USER
newgrp docker
```

-----------------------------------------------------------

## Git

Git-Benutzernamen und E-Mail-Adresse konfigurieren:
``` bash
git config --global user.name "Ihr Name"
git config --global user.email "IhreEmail@beispiel.com"
```

Ein Verzeichnis für Ihr Projekt erstellen und in dieses Verzeichnis wechseln:
``` bash
cd beispiel
```

Ein leeres Git-Repository in diesem Verzeichnis initialisieren:
``` bash
git init
```

Eine README-Datei zum Git-Repository hinzufügen:
``` bash
git add README
```

Den Status Ihres Repositories überprüfen:
``` bash
git status
```

Ihren ersten Commit durchführen:
``` bash
git commit -m "Erste Version"
```

Änderungen mit git diff anzeigen und in ein Patch packen:
``` bash
git diff
git diff --no-prefix > patch.diff-
```

Die Historie Ihres Repositories anzeigen:
``` bash
git log
```

Einen neuen Branch erstellen und zwischen Branches wechseln:
``` bash
git checkout -b new_branch
git checkout master
```

Änderungen vom neuen Branch in den Master-Branch übernehmen:
``` bash
git merge new_branch
```

Den Master-Zweig in Main umbenennen:
``` bash
git branch -m master main
git push -u origin main
git push origin --delete master
```

Tags in Git erstellen und anzeigen:
``` bash
git tag
git tag -a v1.4 -m 'my version 1.4'
git show
```
-----------------------------------------------------------

## Installation minikube und kubectl

### Dependencies
``` bash
sudo apt install curl wget apt-transport-https -y 
```

### Download und Installation minikube
``` bash
curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
sudo install minikube-linux-amd64 /usr/local/bin/minikube
```

### Download und Installation kubectl
``` bash
curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"
sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl
```

### Ein paar minikube Addons
``` bash
minikube start --driver=docker
minikube addons enable ingress
minikube addons enable dashboard
minikube addons enable metrics-server
```

### Reboot Linux
``` bash
sudo reboot
```

### Start minikube und Dashboard
``` bash
minikube start --driver=docker
minikube dashboard --url
```

Um das Dashboard von einem anderen Computer zu öffnen kann man den folgenden Befehl benutzen um die Ports zu Mappen:

``` bash
ssh -L <Port>:127.0.0.1:<Port> <User>@<IP>
```